{
 "actions": [],
 "allow_import": 1,
 "allow_rename": 1,
 "autoname": "format:BPR-{YYYY}-{####}",
 "creation": "2025-01-01 00:00:00.000000",
 "doctype": "DocType",
 "engine": "InnoDB",
 "field_order": [
  "section_main",
  "title",
  "enabled",
  "company",
  "customer_group",
  "priority",
  "column_break_main",
  "free_item_policy",
  "fixed_free_item_code",
  "section_items",
  "eligible_items",
  "section_slabs",
  "slabs",
  "section_notes",
  "notes"
 ],
 "fields": [
  {
   "fieldname": "section_main",
   "fieldtype": "Section Break",
   "label": "Rule"
  },
  {
   "fieldname": "title",
   "fieldtype": "Data",
   "in_list_view": 1,
   "label": "Title",
   "reqd": 1
  },
  {
   "default": "1",
   "fieldname": "enabled",
   "fieldtype": "Check",
   "in_list_view": 1,
   "label": "Enabled"
  },
  {
   "description": "Optional. If set, rule applies only for this company.",
   "fieldname": "company",
   "fieldtype": "Link",
   "label": "Company",
   "options": "Company"
  },
  {
   "fieldname": "customer_group",
   "fieldtype": "Link",
   "in_list_view": 1,
   "label": "Customer Group",
   "options": "Customer Group",
   "reqd": 1
  },
  {
   "default": "0",
   "description": "Higher number = picked first when multiple rules match.",
   "fieldname": "priority",
   "fieldtype": "Int",
   "in_list_view": 1,
   "label": "Priority"
  },
  {
   "fieldname": "column_break_main",
   "fieldtype": "Column Break"
  },
  {
   "default": "highest_qty",
   "description": "highest_qty: free item will be the SKU with highest purchased qty in the basket. fixed_item: always use Fixed Free Item.",
   "fieldname": "free_item_policy",
   "fieldtype": "Select",
   "label": "Free Item Policy",
   "options": "highest_qty\nfixed_item",
   "reqd": 1
  },
  {
   "depends_on": "eval:doc.free_item_policy=='fixed_item'",
   "fieldname": "fixed_free_item_code",
   "fieldtype": "Link",
   "label": "Fixed Free Item",
   "options": "Item"
  },
  {
   "fieldname": "section_items",
   "fieldtype": "Section Break",
   "label": "Eligible Items"
  },
  {
   "fieldname": "eligible_items",
   "fieldtype": "Table",
   "label": "Eligible Item Codes",
   "options": "Basket Promo Rule Item",
   "reqd": 1
  },
  {
   "fieldname": "section_slabs",
   "fieldtype": "Section Break",
   "label": "Slabs"
  },
  {
   "fieldname": "slabs",
   "fieldtype": "Table",
   "label": "Promotion Slabs",
   "options": "Basket Promo Slab",
   "reqd": 1
  },
  {
   "fieldname": "section_notes",
   "fieldtype": "Section Break",
   "label": "Notes"
  },
  {
   "fieldname": "notes",
   "fieldtype": "Small Text",
   "label": "Notes"
  }
 ],
 "icon": "fa fa-gift",
 "is_submittable": 0,
 "istable": 0,
 "links": [],
 "modified": "2025-12-16 00:00:00.000000",
 "modified_by": "Administrator",
 "module": "Basket Promo Engine",
 "name": "Basket Promo Rule",
 "naming_rule": "Expression",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "export": 1,
   "import": 1,
   "read": 1,
   "report": 1,
   "role": "System Manager",
   "write": 1
  },
  {
   "create": 1,
   "delete": 0,
   "read": 1,
   "report": 1,
   "role": "Sales Manager",
   "write": 1
  },
  {
   "create": 0,
   "delete": 0,
   "read": 1,
   "report": 1,
   "role": "Accounts Manager",
   "write": 0
  }
 ],
 "sort_field": "modified",
 "sort_order": "DESC",
 "title_field": "title"
}
